# Express.js API - –£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Express.js, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ API —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Swagger UI:
```
http://localhost:3000/api-docs
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ app.js             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ swagger.json       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger/OpenAPI)
‚îÇ   ‚îî‚îÄ‚îÄ routes/
‚îÇ       ‚îú‚îÄ‚îÄ users.js       # API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ       ‚îî‚îÄ‚îÄ products.js    # API –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. **Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (`src/app.js`)
- –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Express
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ middleware (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 2. **–ú–∞—Ä—à—Ä—É—Ç—ã (Routes)** (`src/routes/`)
–ú–∞—Ä—à—Ä—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —Ä–∞–∑–Ω—ã–º URL:
- **GET** - –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- **POST** - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **PUT** - –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
- **DELETE** - —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

### 3. **HTTP –º–µ—Ç–æ–¥—ã**
- `GET /api/users` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/users/:id` - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
- `POST /api/users` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/users/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/users/:id` - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–¢–æ –∂–µ —Å–∞–º–æ–µ –¥–ª—è `/api/products`

### 4. **Swagger UI**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –í–∏–¥–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoint'—ã
- –ü–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç—Ä–µ–±—É—é—Ç—Å—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

## üß™ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
```bash
curl http://localhost:3000/api/status
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```bash
curl http://localhost:3000/api/users
```

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST http://localhost:3000/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–°–µ—Ä–≥–µ–π",
    "email": "sergey@example.com",
    "age": 32
  }'
```

### –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
```bash
curl http://localhost:3000/api/users/1
```

### –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X PUT http://localhost:3000/api/users/1 \
  -H "Content-Type: application/json" \
  -d '{
    "name": "–°–µ—Ä–≥–µ–π –ü–µ—Ç—Ä–æ–≤",
    "age": 33
  }'
```

### –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X DELETE http://localhost:3000/api/users/1
```

## üìù –û—Ç–≤–µ—Ç—ã API

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ:

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (GET —Å–ø–∏—Å–æ–∫)
```json
{
  "success": true,
  "data": [...],
  "count": 3
}
```

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (POST —Å–æ–∑–¥–∞–Ω–∏–µ)
```json
{
  "success": true,
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω",
  "data": {
    "id": 4,
    "name": "–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "email": "new@example.com",
    "age": 25
  }
}
```

### –û—à–∏–±–∫–∞
```json
{
  "success": false,
  "error": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
}
```

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã

### `src/index.js`
```javascript
const app = require('./app');
const PORT = process.env.PORT || 3000;

app.listen(PORT, () => {
  console.log(`–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`);
});
```

### `src/app.js`
```javascript
const express = require('express');
const app = express();

// Middleware
app.use(express.json());

// –ú–∞—Ä—à—Ä—É—Ç—ã
app.use('/api/users', require('./routes/users'));
app.use('/api/products', require('./routes/products'));

module.exports = app;
```

### `src/routes/users.js` (–ø—Ä–∏–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞)
```javascript
const express = require('express');
const router = express.Router();

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
router.get('/', (req, res) => {
  res.json({ success: true, data: users });
});

// –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
router.post('/', (req, res) => {
  const { name, email, age } = req.body;
  // ... –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è ...
  res.status(201).json({ success: true, data: newUser });
});

module.exports = router;
```

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–î–æ–±–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** - –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB, PostgreSQL
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö (joi, yup)
3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - JWT —Ç–æ–∫–µ–Ω—ã, –ª–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã (Jest, Mocha)
5. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä (Heroku, AWS)

## üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã

- **express** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **swagger-ui-express** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Express –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://expressjs.com/)
- [Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://swagger.io/)
- [REST API best practices](https://restfulapi.net/)
