# ‚úÖ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –í–´–ü–û–õ–ù–ï–ù–û

## ‚úÖ –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª:

1. ‚úÖ **Git –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub**
   - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git@github.com:mixedkiw/der_Freund_von_des_Urals_die_Statistik.git`
   - –í–µ—Ç–∫–∞: `main` 
   - –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub ‚úì

2. ‚úÖ **GitHub Actions workflow —Å–æ–∑–¥–∞–Ω**
   - –§–∞–π–ª: `.github/workflows/deploy.yml`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π deploy –ø—Ä–∏ push –≤ main
   - –†–∞—Å–∫–æ—à–ª–∏ –Ω–∞ GitHub Pages –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ ‚úì

3. ‚úÖ **Frontend —Å–æ–±—Ä–∞–Ω –∏ –≥–æ—Ç–æ–≤**
   - –ü–∞–ø–∫–∞: `frontend/dist/` (300 KB)
   - –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ GitHub Pages ‚úì

4. ‚úÖ **Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
   - Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker ps` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `project-backend`
   - Nginx –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ –Ω–∞ –ø–æ—Ä—Ç—É 80 ‚úì
   - API –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ http://localhost/api/ ‚úì

5. ‚úÖ **–õ–æ–≥–∏–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞**
   - UTC –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –§–∞–π–ª: `frontend/src/utils/timezone.js` ‚úì

---

# üö® –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –¢–ï–ë–ï (–î–ï–ô–°–¢–í–ò–Ø –í –ë–†–ê–£–ó–ï–†–ï):

## –î–ï–ô–°–¢–í–ò–ï 1Ô∏è‚É£: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Ngrok (5 –º–∏–Ω—É—Ç)

1. **–ü–µ—Ä–µ–π–¥–∏** –Ω–∞: https://dashboard.ngrok.com/signup
2. **–í—ã–±–µ—Ä–∏** —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
   - Google OAuth
   - GitHub OAuth
   - –ò–ª–∏ email
3. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏** —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é (–ø–∏—Å—å–º–æ –Ω–∞ –ø–æ—á—Ç—É)
4. **–°–∫–æ–ø–∏—Ä—É–π** —Å–≤–æ–π AuthToken:
   - –ü–µ—Ä–µ–π–¥–∏: https://dashboard.ngrok.com/get-started/your-authtoken
   - –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "Copy" —Ä—è–¥–æ–º —Å —Ç–æ–∫–µ–Ω–æ–º
   - –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `1_xxxxxxxxxxxxxxxxxxxxxx`

## –î–ï–ô–°–¢–í–ò–ï 2Ô∏è‚É£: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å AuthToken –Ω–∞ —Å–µ—Ä–≤–µ—Ä (1 –º–∏–Ω—É—Ç–∞)

–°–∫–æ–ø–∏—Ä—É–π –∫–æ–º–∞–Ω–¥—É –Ω–∏–∂–µ –∏ –∑–∞–º–µ–Ω–∏ `YOUR_AUTH_TOKEN` –Ω–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:

```bash
ssh -p 1124 root@144.31.68.248 "ngrok config add-authtoken YOUR_AUTH_TOKEN"
```

–ü—Ä–∏–º–µ—Ä:
```bash
ssh -p 1124 root@144.31.68.248 "ngrok config add-authtoken 1_xxxxx7xxxxxxxxxxxxxx"
```

## –î–ï–ô–°–¢–í–ò–ï 3Ô∏è‚É£: –ó–∞–ø—É—Å—Ç–∏—Ç—å Ngrok —Ç—É–Ω–Ω–µ–ª—å (1 –º–∏–Ω—É—Ç–∞)

```bash
ssh -p 1124 root@144.31.68.248 "nohup ngrok http 3000 --region eu > /tmp/ngrok.log 2>&1 &"
```

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è:
```bash
ssh -p 1124 root@144.31.68.248 "sleep 2 && grep -i 'forwarding' /tmp/ngrok.log || cat /tmp/ngrok.log | tail -15"
```

**–ù–∞–π–¥–∏ –∏ —Å–∫–æ–ø–∏—Ä—É–π —Å—Ç—Ä–æ–∫—É, –ø–æ—Ö–æ–∂—É—é –Ω–∞:**
```
Forwarding                    https://1234-5678-90ab-cdef.eu.ngrok.io -> http://localhost:3000
```

**–¢–≤–æ–π Ngrok URL:** `https://1234-5678-90ab-cdef.eu.ngrok.io` (–±—É–¥–µ—Ç –¥—Ä—É–≥–æ–π —É —Ç–µ–±—è)

## –î–ï–ô–°–¢–í–ò–ï 4Ô∏è‚É£: –û–±–Ω–æ–≤–∏—Ç—å API URL –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (2 –º–∏–Ω—É—Ç—ã)

–ù–∞ **–°–í–û–ï–ô –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ**:

```bash
cd /home/kacher/Projects/Project/frontend

# –ó–∞–º–µ–Ω–∏ XXXX –Ω–∞ —Å–≤–æ–π URL –∏–∑ –î–ï–ô–°–¢–í–ò–Ø 3
echo 'VITE_API_URL=https://XXXX-XXXX-XXXX-XXXX.eu.ngrok.io/api' > .env.production.local

# –°–æ–±–µ—Ä–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm run build

# –ó–∞–≥—Ä—É–∑–∏ –Ω–∞ GitHub
cd ..
git add frontend/.env.production.local frontend/dist/
git commit -m "Add Ngrok API URL for production"
git push
```

## –î–ï–ô–°–¢–í–ò–ï 5Ô∏è‚É£: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å GitHub Pages (1 –º–∏–Ω—É—Ç–∞)

1. **–ü–µ—Ä–µ–π–¥–∏** –Ω–∞: https://github.com/mixedkiw/der_Freund_von_des_Urals_die_Statistik/settings/pages
2. **–í —Ä–∞–∑–¥–µ–ª–µ "Build and deployment":**
   - Source: **Deploy from a branch** (–∏–ª–∏ GitHub Actions)
   - Branch: **main** / **/ (root)**
   - –ù–∞–∂–º–∏ **Save**

–ò–ª–∏ –µ—Å–ª–∏ —Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ **GitHub Actions**, –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ).

---

# üéØ –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ê–¥—Ä–µ—Å | –°—Ç–∞—Ç—É—Å |
|-----------|-------|--------|
| **–§—Ä–æ–Ω—Ç–µ–Ω–¥** | https://mixedkiw.github.io | ‚úÖ –ù–∞ GitHub Pages |
| **API** | https://XXXX.eu.ngrok.io/api | ‚úÖ –ß–µ—Ä–µ–∑ Ngrok —Ç—É–Ω–Ω–µ–ª—å |
| **–†–µ–∞–ª—å–Ω—ã–π IP —Å–µ—Ä–≤–µ—Ä–∞** | üîí | ‚úÖ –°–ö–†–´–¢ |

---

# ‚ú® –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

- ‚úÖ –ö–æ–¥ –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ GitHub
- ‚úÖ GitHub Actions workflow —Å–æ–∑–¥–∞–Ω
- ‚úÖ Frontend —Å–æ–±—Ä–∞–Ω (dist/)
- ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞

---

# üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **Ngrok URL –º–µ–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ - –æ–±–Ω–æ–≤–∏ `.env.production.local` –∏ –ø—É—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. **GitHub Pages –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ push
3. **API —Ç—Ä–µ–±—É–µ—Ç HTTPS** (ngrok –¥–∞–µ—Ç https:// –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
4. **CORS —Ä–∞–±–æ—Ç–∞–µ—Ç** (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ backend)

---

# üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## "404 –Ω–∞ GitHub Pages"
```bash
# –ü—Ä–æ–≤–µ—Ä—å Settings ‚Üí Pages
# –£–±–µ–¥–∏—Å—å —á—Ç–æ Deploy from: main / (root)
```

## "API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"
```bash
# –ü—Ä–æ–≤–µ—Ä—å Ngrok –ª–æ–≥–∏:
ssh -p 1124 root@144.31.68.248 "cat /tmp/ngrok.log | tail -20"

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω:
ssh -p 1124 root@144.31.68.248 "docker ps"
```

## "CORS –æ—à–∏–±–∫–∞"
```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ API_URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ .env.production.local:
cat /home/kacher/Projects/Project/frontend/.env.production.local
```

---

**–ì–æ—Ç–æ–≤–æ! –ñ–¥—É —Ç–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π! üöÄ**
